# 递归

> 什么样的问题可以用递归来解决以及怎么解决。

#### 递归需要满足的三个条件

- 一个问题可以分解成几个子问题的解
- 原问题和分解后子问题除了数据规模不同，求解思路一样
- 存在递归结束条件



**写递归代码的关键在于找到如何将大问题分解成小问题规律，并且基于此写出递推公式，推敲处终止条件。**

**编写递归代码的关键是，只要遇到递归，我们就把它抽象成一个递推公式，不用去想层层之间的调用关系，不用自己去分解递归的每个步骤。**

#### 递归代码要警惕堆栈溢出

> 在递归代码中限制调用的最大深度。当调用超过一定深度之后就返回报错信息，不再递归。但是这种方法并不能完全解决问题，因为最大允许的递归深度个当前线程剩余的栈空间大小有关系，事先无法计算。



#### 递归代码要警惕重复计算

> 走楼梯问题图解

![1](/Users/v1cky/Documents/算法与数据结构/note/1.jpg)

* 可以通过一个数据结构（比如散列表）来保存已经求解过的f(k)。

  ```java
  public int f(int n) {
    if (n == 1) return 1;
    if (n == 2) return 2;
    
    // hasSolvedList 可以理解成一个 Map，key 是 n，value 是 f(n)
    if (hasSolvedList.containsKey(n)) {
      return hasSovledList.get(n);
    }
    
    int ret = f(n-1) + f(n-2);
    hasSovledList.put(n, ret);
    return ret;
  }
  
  ```


#### 递归与非递归之间的转换

> 改为迭代循环，笼统地说



**递归代码虽然简介高效，但也存在堆栈溢出、重复计算、函数调用耗时多、空间复杂度高等问题**



#### 思考

> 如何调试递归代码？

